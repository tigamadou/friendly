<%= form_with(model: post, local: true, url:choose_new_or_edit) do |form| %>
  <% if @post.errors.any? %>
      <div class="alert alert-danger">
        <div><%= pluralize(@post.errors.count, "error") %> prohibited this @post from being saved:</div>
        <ul>
          <% @post.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
  <% end %>

  <div class="form-floating mb-2">
    <%= form.text_area :content, :class => "form-control", placeholder: "Leave a comment here", style: "height: 100px" %>
    <%= form.label :content %>
  </div>

  <div class="field mb-3">
    <div class="text-left py-3 ">
      
      <%= image_tag(post.image.url, class: 'img-fluid mb-3 thumb rounded') if post.image && post.image.url %>
    </div>
    <%= form.file_field :image %>
    <%= form.hidden_field :image_cache %>
  </div>

  <div class="actions ">
    <% if action_name == "new"%>
      <button type="submit" class="btn btn-info">
        <i class="bi bi-check-lg"></i> Publish
      </button>
    <% else %>
      <%= form.submit 'Save' , :class => "btn btn-info" %>
    <% end %>
  </div>
<% end %>
